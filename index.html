<!DOCTYPE HTML>
<html lang="en">
<head>
  <title>Our Love Story</title>
  <meta charset="utf-8" />
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <style type="text/css">
    @font-face {
      font-family: digit;
      src: url('font/digital-7_mono.ttf') format("truetype");
    }
  </style>
  <link href="css/default.min.css" type="text/css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script type="text/javascript" src="js/garden.min.js"></script>
  <script type="text/javascript" src="js/functions.min.js"></script>
</head>

<body>
<div id="mainDiv">
  <div id="contentDiv">

    <div id="loveHeart">
      <canvas id="garden"></canvas>
      <div id="words">
        <div id="messages">
          I have fallen in love with you for
          <div id="elapseClock"></div>
        </div>
        <div id="loveu">
          Love u forever and ever.<br />
          <div class="signature">- Yuvv</div>
        </div>
      </div>
    </div>

    <div id="code">
      Boy i = <span class="keyword">new</span> Boy(<span class="string">"me"</span>);<br/>
      Girl u = <span class="keyword">new</span> Girl(<span class="string">"you"</span>);<br/>
      <span class="comments">// Apr 21, 2017, I met you. </span><br/>
      i.met(u);<br/>
      <span class="comments">// Jun 30, 2017, we fall in love with each other.</span><br/>
      i.love(u);<br/>
      u.love(i);<br/>
      <span class="comments">// Since then, I miss u every day.</span><br/>
      i.miss(u);<br/>
      <span class="comments">// And take care of u and our love.</span><br/>
      i.takeCareOf(u);<br/>
      <span class="comments">// Although we are thousands of miles away.</span><br/>
      <span class="keyword">var</span> distance = i.distanceOf(u);<br/>
      <span class="comments">// When you are by my side, you are everything to me.</span><br/>
      <span class="keyword">if</span> (distance === <span class="string">"nearby-me"</span>) {<br/>
      <span class="placeholder"></span>i.fillHeartWith(u);<br/>
      }<br />
      <span class="comments">// When you are not with me, my everything is you.</span><br/>
      <span class="keyword">if</span> (distance === <span class="string">"faraway-me"</span>) {<br/>
      <span class="placeholder"></span>i.fillHeartWith(u.shadow);<br/>
      }<br />
      <span class="comments">// 1314 days later, we register for marriage.</span><br />
      timeElapse(<span class="number">1314</span> * <span class="number">24</span> * <span class="number">3600</span>);<br />
      <span class="comments">// And we will live happily forever.</span><br />
      i.liveHappilyWith(u);<br />
    </div>

  </div>
</div>
<script type="text/javascript">
  var offsetX = $("#loveHeart").width() / 2;
  var offsetY = $("#loveHeart").height() / 2 - 55;
  var together = new Date();
  together.setFullYear(2017, 5, 30); // 2017年6月30日16点
  together.setHours(16);
  together.setMinutes(0);
  together.setSeconds(0);
  together.setMilliseconds(0);

  if (!document.createElement('canvas').getContext) {
    var msg = document.createElement("div");
    msg.id = "errorMsg";
    msg.innerHTML = "Your browser doesn't support HTML5!<br/>Recommend use Chrome 14+/IE 9+/Firefox 7+/Safari 4+";
    document.body.appendChild(msg);
    $("#code").css("display", "none");
    document.execCommand("stop");
  } else {
    setTimeout(function () {
      startHeartAnimation();
    }, 1000);

    timeElapse(together);
    setInterval(function () {
      timeElapse(together);
    }, 1000);

    //adjustCodePosition();
    $("#code").typewriter();
  }
</script>
</body>
</html>
